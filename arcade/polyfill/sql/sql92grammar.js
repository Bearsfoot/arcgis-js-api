// COPYRIGHT © 201 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/3.32/esri/copyright.txt for details.

define([],(function(){"use strict";function r(t,e,n,u){this.message=t,this.expected=e,this.found=n,this.location=u,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}(r,Error),r.buildMessage=function(r,t){var e={literal:function(r){return'"'+u(r.text)+'"'},class:function(r){var t,e="";for(t=0;t<r.parts.length;t++)e+=r.parts[t]instanceof Array?o(r.parts[t][0])+"-"+o(r.parts[t][1]):o(r.parts[t]);return"["+(r.inverted?"^":"")+e+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function u(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function o(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}return"Expected "+function(r){var t,n,u,o=new Array(r.length);for(t=0;t<r.length;t++)o[t]=(u=r[t],e[u.type](u));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(r)+" but "+function(r){return r?'"'+u(r)+'"':"end of input"}(t)+" found."},{SyntaxError:r,parse:function(t,e){e=void 0!==e?e:{};var n,u={},o={start:kr},a=kr,i=function(r,t){var e={type:"expr_list"},n=function(r,t,e){return function(r,t){for(var e=[r],n=0;n<t.length;n++)e.push(t[n][3]);return e}(r,t)}(r,t);return e.value=n,e},s=function(r,t){return Jt(r,t)},c=Gr("!",!1),l=Gr("=",!1),f=Gr(">=",!1),v=Gr(">",!1),p=Gr("<=",!1),d=Gr("<>",!1),h=Gr("<",!1),b=Gr("!=",!1),y=function(r){return r[0]+" "+r[2]},A=Gr("+",!1),C=Gr("-",!1),g=Gr("*",!1),E=Gr("/",!1),L=function(r,t){return r+t.join("")},w=/^[A-Za-z_\x80-\uFFFF]/,x=Pr([["A","Z"],["a","z"],"_",["","￿"]],!1,!1),m=/^[A-Za-z0-9_]/,T=Pr([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),N=/^[A-Za-z0-9_.\x80-\uFFFF]/,O=Pr([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1),F=Gr("@",!1),I=function(r){return{type:"interval-period",period:r.value,precision:null,secondary:null}},R=function(r,t){return{type:"interval-period",period:"second",precision:r,secondary:t}},_=function(r){return parseFloat(r)},S=Gr("'",!1),M=Gr("N'",!1),D=Gr("''",!1),H=/^[^']/,U=Pr(["'"],!0,!1),B=function(r,t){return{type:"when_clause",operand:r,value:t}},z=Gr(".",!1),G=/^[0-9]/,P=Pr([["0","9"]],!1,!1),Z=/^[eE]/,j=Pr(["e","E"],!1,!1),W=/^[+\-]/,Y=Pr(["+","-"],!1,!1),k=Gr("NULL",!0),q=Gr("TRUE",!0),K=Gr("FALSE",!0),V=Gr("IN",!0),X=Gr("IS",!0),J=Gr("LIKE",!0),Q=Gr("ESCAPE",!0),$=Gr("NOT",!0),rr=Gr("AND",!0),tr=Gr("OR",!0),er=Gr("BETWEEN",!0),nr=Gr("FROM",!0),ur=Gr("FOR",!0),or=Gr("SUBSTRING",!0),ar=Gr("EXTRACT",!0),ir=Gr("TRIM",!0),sr=Gr("POSITION",!0),cr=Gr("TIMESTAMP",!0),lr=Gr("DATE",!0),fr=Gr("LEADING",!0),vr=Gr("TRAILING",!0),pr=Gr("BOTH",!0),dr=Gr("TO",!0),hr=Gr("INTERVAL",!0),br=Gr("YEAR",!0),yr=Gr("MONTH",!0),Ar=Gr("DAY",!0),Cr=Gr("HOUR",!0),gr=Gr("MINUTE",!0),Er=Gr("SECOND",!0),Lr=Gr("CASE",!0),wr=Gr("END",!0),xr=Gr("WHEN",!0),mr=Gr("THEN",!0),Tr=Gr("ELSE",!0),Nr=Gr(",",!1),Or=Gr("(",!1),Fr=Gr(")",!1),Ir=/^[ \t\n\r]/,Rr=Pr([" ","\t","\n","\r"],!1,!1),_r=Gr("`",!1),Sr=/^[^`]/,Mr=Pr(["`"],!0,!1),Dr=0,Hr=[{line:1,column:1}],Ur=0,Br=[],zr=0;if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function Gr(r,t){return{type:"literal",text:r,ignoreCase:t}}function Pr(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function Zr(r){var e,n=Hr[r];if(n)return n;for(e=r-1;!Hr[e];)e--;for(n={line:(n=Hr[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return Hr[r]=n,n}function jr(r,t){var e=Zr(r),n=Zr(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function Wr(r){Dr<Ur||(Dr>Ur&&(Ur=Dr,Br=[]),Br.push(r))}function Yr(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function kr(){var r,t;return r=Dr,Kt()!==u&&(t=Kr())!==u&&Kt()!==u?(r,r=t):(Dr=r,r=u),r}function qr(){var r,t,e,n,o,a,s,c;if(r=Dr,(t=Kr())!==u){for(e=[],n=Dr,(o=Kt())!==u&&(a=Yt())!==u&&(s=Kt())!==u&&(c=Kr())!==u?n=o=[o,a,s,c]:(Dr=n,n=u);n!==u;)e.push(n),n=Dr,(o=Kt())!==u&&(a=Yt())!==u&&(s=Kt())!==u&&(c=Kr())!==u?n=o=[o,a,s,c]:(Dr=n,n=u);e!==u?(r,r=t=i(t,e)):(Dr=r,r=u)}else Dr=r,r=u;return r}function Kr(){var r,t,e,n,o,a,i,c;if(r=Dr,(t=Vr())!==u){for(e=[],n=Dr,(o=Kt())!==u&&(a=It())!==u&&(i=Kt())!==u&&(c=Vr())!==u?n=o=[o,a,i,c]:(Dr=n,n=u);n!==u;)e.push(n),n=Dr,(o=Kt())!==u&&(a=It())!==u&&(i=Kt())!==u&&(c=Vr())!==u?n=o=[o,a,i,c]:(Dr=n,n=u);e!==u?(r,r=t=s(t,e)):(Dr=r,r=u)}else Dr=r,r=u;return r}function Vr(){var r,t,e,n,o,a,i,c;if(r=Dr,(t=Xr())!==u){for(e=[],n=Dr,(o=Kt())!==u&&(a=Ft())!==u&&(i=Kt())!==u&&(c=Xr())!==u?n=o=[o,a,i,c]:(Dr=n,n=u);n!==u;)e.push(n),n=Dr,(o=Kt())!==u&&(a=Ft())!==u&&(i=Kt())!==u&&(c=Xr())!==u?n=o=[o,a,i,c]:(Dr=n,n=u);e!==u?(r,r=t=s(t,e)):(Dr=r,r=u)}else Dr=r,r=u;return r}function Xr(){var r,e,n,o,a;return r=Dr,(e=Ot())===u&&(e=Dr,33===t.charCodeAt(Dr)?(n="!",Dr++):(n=u,0===zr&&Wr(c)),n!==u?(o=Dr,zr++,61===t.charCodeAt(Dr)?(a="=",Dr++):(a=u,0===zr&&Wr(l)),zr--,a===u?o=void 0:(Dr=o,o=u),o!==u?e=n=[n,o]:(Dr=e,e=u)):(Dr=e,e=u)),e!==u&&(n=Kt())!==u&&(o=Xr())!==u?(r,r=e={type:"unary_expr",operator:"NOT",expr:o}):(Dr=r,r=u),r===u&&(r=function(){var r,e,n;r=Dr,(e=rt())!==u&&Kt()!==u?((n=function(){var r;(r=function(){var r,t,e,n,o,a,i;r=Dr,t=[],e=Dr,(n=Kt())!==u&&(o=Jr())!==u&&(a=Kt())!==u&&(i=rt())!==u?e=n=[n,o,a,i]:(Dr=e,e=u);if(e!==u)for(;e!==u;)t.push(e),e=Dr,(n=Kt())!==u&&(o=Jr())!==u&&(a=Kt())!==u&&(i=rt())!==u?e=n=[n,o,a,i]:(Dr=e,e=u);else t=u;t!==u&&(r,t={type:"arithmetic",tail:t});return r=t}())===u&&(r=function(){var r,t,e,n;r=Dr,(t=$r())!==u&&Kt()!==u&&(e=kt())!==u&&Kt()!==u&&(n=qr())!==u&&Kt()!==u&&qt()!==u?(r,r=t={op:t,right:n}):(Dr=r,r=u);r===u&&(r=Dr,(t=$r())!==u&&Kt()!==u&&(e=kt())!==u&&Kt()!==u&&(n=qt())!==u?(r,t=function(r){return{op:r,right:{type:"expr_list",value:[]}}}(t),r=t):(Dr=r,r=u),r===u&&(r=Dr,(t=$r())!==u&&Kt()!==u&&(e=ct())!==u?(r,t=function(r,t){return{op:r,right:t}}(t,e),r=t):(Dr=r,r=u)));return r}())===u&&(r=function(){var r,t,e,n,o,a;r=Dr,(t=Ot())!==u&&Kt()!==u&&(e=Rt())!==u&&Kt()!==u&&(n=rt())!==u&&Kt()!==u&&(o=Ft())!==u&&Kt()!==u&&(a=rt())!==u?(r,r=t={op:"NOT"+e,right:{type:"expr_list",value:[n,a]}}):(Dr=r,r=u);r===u&&(r=Dr,(t=Rt())!==u&&Kt()!==u&&(e=rt())!==u&&Kt()!==u&&(n=Ft())!==u&&Kt()!==u&&(o=rt())!==u?(r,t=function(r,t,e){return{op:r,right:{type:"expr_list",value:[t,e]}}}(t,e,o),r=t):(Dr=r,r=u));return r}())===u&&(r=function(){var r,t,e,n;r=Dr,(t=Tt())!==u&&Kt()!==u&&(e=Ot())!==u&&Kt()!==u&&(n=rt())!==u?(r,r=t={op:t+"NOT",right:n}):(Dr=r,r=u);r===u&&(r=Dr,(t=Tt())!==u&&Kt()!==u&&(e=rt())!==u?(r,t=function(r,t){return{op:r,right:t}}(t,e),r=t):(Dr=r,r=u));return r}())===u&&(r=function(){var r,e,n,o;r=Dr,(e=Qr())!==u&&Kt()!==u&&(n=ht())!==u&&Kt()!==u&&function(){var r,e,n,o;r=Dr,"escape"===t.substr(Dr,6).toLowerCase()?(e=t.substr(Dr,6),Dr+=6):(e=u,0===zr&&Wr(Q));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="ESCAPE"):(Dr=r,r=u)):(Dr=r,r=u);return r}()!==u&&Kt()!==u&&(o=bt())!==u?(r,e={op:e,right:n,escape:o.value},r=e):(Dr=r,r=u);r===u&&(r=Dr,(e=Qr())!==u&&Kt()!==u&&(n=ht())!==u?(r,e=function(r,t){return{op:r,right:t,escape:""}}(e,n),r=e):(Dr=r,r=u));return r}());return r}())===u&&(n=null),n!==u?(r,e=function(r,t){if(""==t||null==t||null==t)return r;return"arithmetic"==t.type?Jt(r,t.tail):Xt(t.op,r,t.right,t.escape)}(e,n),r=e):(Dr=r,r=u)):(Dr=r,r=u);return r}()),r}function Jr(){var r;return">="===t.substr(Dr,2)?(r=">=",Dr+=2):(r=u,0===zr&&Wr(f)),r===u&&(62===t.charCodeAt(Dr)?(r=">",Dr++):(r=u,0===zr&&Wr(v)),r===u&&("<="===t.substr(Dr,2)?(r="<=",Dr+=2):(r=u,0===zr&&Wr(p)),r===u&&("<>"===t.substr(Dr,2)?(r="<>",Dr+=2):(r=u,0===zr&&Wr(d)),r===u&&(60===t.charCodeAt(Dr)?(r="<",Dr++):(r=u,0===zr&&Wr(h)),r===u&&(61===t.charCodeAt(Dr)?(r="=",Dr++):(r=u,0===zr&&Wr(l)),r===u&&("!="===t.substr(Dr,2)?(r="!=",Dr+=2):(r=u,0===zr&&Wr(b)))))))),r}function Qr(){var r,t,e,n,o;return r=Dr,t=Dr,(e=Ot())!==u&&(n=Kt())!==u&&(o=Nt())!==u?t=e=[e,n,o]:(Dr=t,t=u),t!==u&&(r,t=y(t)),(r=t)===u&&(r=Nt()),r}function $r(){var r,t,e,n,o;return r=Dr,t=Dr,(e=Ot())!==u&&(n=Kt())!==u&&(o=mt())!==u?t=e=[e,n,o]:(Dr=t,t=u),t!==u&&(r,t=y(t)),(r=t)===u&&(r=mt()),r}function rt(){var r,t,e,n,o,a,i,c;if(r=Dr,(t=et())!==u){for(e=[],n=Dr,(o=Kt())!==u&&(a=tt())!==u&&(i=Kt())!==u&&(c=et())!==u?n=o=[o,a,i,c]:(Dr=n,n=u);n!==u;)e.push(n),n=Dr,(o=Kt())!==u&&(a=tt())!==u&&(i=Kt())!==u&&(c=et())!==u?n=o=[o,a,i,c]:(Dr=n,n=u);e!==u?(r,r=t=s(t,e)):(Dr=r,r=u)}else Dr=r,r=u;return r}function tt(){var r;return 43===t.charCodeAt(Dr)?(r="+",Dr++):(r=u,0===zr&&Wr(A)),r===u&&(45===t.charCodeAt(Dr)?(r="-",Dr++):(r=u,0===zr&&Wr(C))),r}function et(){var r,t,e,n,o,a,i,s;if(r=Dr,(t=ut())!==u){for(e=[],n=Dr,(o=Kt())!==u&&(a=nt())!==u&&(i=Kt())!==u&&(s=ut())!==u?n=o=[o,a,i,s]:(Dr=n,n=u);n!==u;)e.push(n),n=Dr,(o=Kt())!==u&&(a=nt())!==u&&(i=Kt())!==u&&(s=ut())!==u?n=o=[o,a,i,s]:(Dr=n,n=u);e!==u?(r,r=t=Jt(t,e)):(Dr=r,r=u)}else Dr=r,r=u;return r}function nt(){var r;return 42===t.charCodeAt(Dr)?(r="*",Dr++):(r=u,0===zr&&Wr(g)),r===u&&(47===t.charCodeAt(Dr)?(r="/",Dr++):(r=u,0===zr&&Wr(E))),r}function ut(){var r,e,n;return(r=function(){var r;(r=bt())===u&&(r=function(){var r,t,e,n;r=Dr,(t=function(){var r,t,e,n;r=Dr,(t=gt())!==u&&(e=Et())!==u&&(n=Lt())!==u?(r,t=parseFloat(t+e+n),r=t):(Dr=r,r=u);r===u&&(r=Dr,(t=gt())!==u&&(e=Et())!==u?(r,t=function(r,t){return parseFloat(r+t)}(t,e),r=t):(Dr=r,r=u),r===u&&(r=Dr,(t=gt())!==u&&(e=Lt())!==u?(r,t=function(r,t){return parseFloat(r+t)}(t,e),r=t):(Dr=r,r=u),r===u&&(r=Dr,(t=gt())!==u&&(r,t=function(r){return parseFloat(r)}(t)),r=t)));return r}())!==u?(e=Dr,zr++,n=at(),zr--,n===u?e=void 0:(Dr=e,e=u),e!==u?(r,r=t={type:"number",value:t}):(Dr=r,r=u)):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e;r=Dr,(e=function(){var r,e,n,o;r=Dr,"true"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(q));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?r=e=[e,n]:(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&(r,e={type:"bool",value:!0});(r=e)===u&&(r=Dr,(e=function(){var r,e,n,o;r=Dr,"false"===t.substr(Dr,5).toLowerCase()?(e=t.substr(Dr,5),Dr+=5):(e=u,0===zr&&Wr(K));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?r=e=[e,n]:(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&(r,e={type:"bool",value:!1}),r=e);return r}())===u&&(r=function(){var r,e;r=Dr,(e=function(){var r,e,n,o;r=Dr,"null"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(k));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?r=e=[e,n]:(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&(r,e={type:"null",value:null});return r=e}())===u&&(r=function(){var r,e,n;r=Dr,(e=function(){var r,e,n,o;r=Dr,"date"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(lr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="DATE"):(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&Kt()!==u&&(n=ht())!==u?(r,e={type:"date",value:n.value},r=e):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e,n;r=Dr,(e=function(){var r,e,n,o;r=Dr,"timestamp"===t.substr(Dr,9).toLowerCase()?(e=t.substr(Dr,9),Dr+=9):(e=u,0===zr&&Wr(cr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="TIMESTAMP"):(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&Kt()!==u&&(n=ht())!==u?(r,e={type:"timestamp",value:n.value},r=e):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e,n,o,a;r=Dr,(e=Mt())!==u&&Kt()!==u?(45===t.charCodeAt(Dr)?(n="-",Dr++):(n=u,0===zr&&Wr(C)),n===u&&(43===t.charCodeAt(Dr)?(n="+",Dr++):(n=u,0===zr&&Wr(A))),n!==u&&Kt()!==u&&(o=ht())!==u&&Kt()!==u&&(a=ft())!==u?(r,r=e={type:"interval",value:o,qualifier:a,op:n}):(Dr=r,r=u)):(Dr=r,r=u);r===u&&(r=Dr,(e=Mt())!==u&&Kt()!==u&&(n=ht())!==u&&Kt()!==u&&(o=ft())!==u?(r,e=function(r,t){return{type:"interval",value:r,qualifier:t,op:""}}(n,o),r=e):(Dr=r,r=u));return r}());return r}())===u&&(r=function(){var r,e,n;r=Dr,function(){var r,e,n,o;r=Dr,"extract"===t.substr(Dr,7).toLowerCase()?(e=t.substr(Dr,7),Dr+=7):(e=u,0===zr&&Wr(ar));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="EXTRACT"):(Dr=r,r=u)):(Dr=r,r=u);return r}()!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=function(){var r;(r=Dt())===u&&(r=Ht())===u&&(r=Ut())===u&&(r=Bt())===u&&(r=zt())===u&&(r=Gt());return r}())!==u&&Kt()!==u&&_t()!==u&&Kt()!==u&&(n=Kr())!==u&&Kt()!==u&&qt()!==u?(r,r={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:e},n]}}):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e,n,o,a,i,s,c,l;r=Dr,(e=function(){var r,e,n,o;r=Dr,"substring"===t.substr(Dr,9).toLowerCase()?(e=t.substr(Dr,9),Dr+=9):(e=u,0===zr&&Wr(or));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="SUBSTRING"):(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(n=Kr())!==u&&Kt()!==u&&_t()!==u&&Kt()!==u&&(o=Kr())!==u&&Kt()!==u?(a=Dr,(i=function(){var r,e,n,o;r=Dr,"for"===t.substr(Dr,3).toLowerCase()?(e=t.substr(Dr,3),Dr+=3):(e=u,0===zr&&Wr(ur));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="FOR"):(Dr=r,r=u)):(Dr=r,r=u);return r}())!==u&&(s=Kt())!==u&&(c=Kr())!==u&&(l=Kt())!==u?a=i=[i,s,c,l]:(Dr=a,a=u),a===u&&(a=null),a!==u&&(i=qt())!==u?(r,f=n,v=o,e={type:"function",name:"substring",args:{type:"expr_list",value:(p=a)?[f,v,p[2]]:[f,v]}},r=e):(Dr=r,r=u)):(Dr=r,r=u);var f,v,p;return r}())===u&&(r=function(){var r,t,e,n,o;r=Dr,(t=St())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u?((e=lt())===u&&(e=null),e!==u&&Kt()!==u&&(n=Kr())!==u&&Kt()!==u&&_t()!==u&&Kt()!==u&&(o=Kr())!==u&&Kt()!==u&&qt()!==u?(r,r=t={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==(a=e)?"BOTH":a},n,o]}}):(Dr=r,r=u)):(Dr=r,r=u);var a;r===u&&(r=Dr,(t=St())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u?((e=lt())===u&&(e=null),e!==u&&Kt()!==u&&(n=Kr())!==u&&Kt()!==u&&qt()!==u?(r,t=function(r,t){return{type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==r?"BOTH":r},t]}}}(e,n),r=t):(Dr=r,r=u)):(Dr=r,r=u));return r}())===u&&(r=function(){var r,e,n;r=Dr,function(){var r,e,n,o;r=Dr,"position"===t.substr(Dr,8).toLowerCase()?(e=t.substr(Dr,8),Dr+=8):(e=u,0===zr&&Wr(sr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="POSITION"):(Dr=r,r=u)):(Dr=r,r=u);return r}()!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=Kr())!==u&&Kt()!==u&&mt()!==u&&Kt()!==u&&(n=Kr())!==u&&Kt()!==u&&qt()!==u?(r,r={type:"function",name:"position",args:{type:"expr_list",value:[e,n]}}):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e,n;r=Dr,(e=function(){var r,e,n,o;r=Dr,(e=ot())!==u&&(r,e=e);if((r=e)===u)if(r=Dr,96===t.charCodeAt(Dr)?(e="`",Dr++):(e=u,0===zr&&Wr(_r)),e!==u){if(n=[],Sr.test(t.charAt(Dr))?(o=t.charAt(Dr),Dr++):(o=u,0===zr&&Wr(Mr)),o!==u)for(;o!==u;)n.push(o),Sr.test(t.charAt(Dr))?(o=t.charAt(Dr),Dr++):(o=u,0===zr&&Wr(Mr));else n=u;n!==u?(96===t.charCodeAt(Dr)?(o="`",Dr++):(o=u,0===zr&&Wr(_r)),o!==u?(r,e=n.join(""),r=e):(Dr=r,r=u)):(Dr=r,r=u)}else Dr=r,r=u;return r}())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u?((n=qr())===u&&(n=null),n!==u&&Kt()!==u&&qt()!==u?(r,r=e={type:"function",name:e,args:n||{type:"expr_list",value:[]}}):(Dr=r,r=u)):(Dr=r,r=u);return r}())===u&&(r=function(){var r;(r=function(){var r,t,e,n,o,a;if(r=Dr,(t=Pt())!==u)if(Kt()!==u)if((e=Kr())!==u)if(Kt()!==u){for(n=[],o=At();o!==u;)n.push(o),o=At();n!==u&&(o=Kt())!==u&&(a=Zt())!==u?(r,r=t={type:"case_expression",format:"simple",operand:e,clauses:n,else:null}):(Dr=r,r=u)}else Dr=r,r=u;else Dr=r,r=u;else Dr=r,r=u;else Dr=r,r=u;if(r===u)if(r=Dr,(t=Pt())!==u)if(Kt()!==u)if((e=Kr())!==u)if(Kt()!==u){for(n=[],o=At();o!==u;)n.push(o),o=At();n!==u&&(o=Kt())!==u&&(a=Ct())!==u&&Kt()!==u&&Zt()!==u?(r,t=function(r,t,e){return{type:"case_expression",format:"simple",operand:r,clauses:t,else:e.value}}(e,n,a),r=t):(Dr=r,r=u)}else Dr=r,r=u;else Dr=r,r=u;else Dr=r,r=u;else Dr=r,r=u;return r}())===u&&(r=function(){var r,t,e,n,o;if(r=Dr,(t=Pt())!==u)if(Kt()!==u){for(e=[],n=yt();n!==u;)e.push(n),n=yt();e!==u&&(n=Kt())!==u&&(o=Zt())!==u?(r,r=t={type:"case_expression",format:"searched",clauses:e,else:null}):(Dr=r,r=u)}else Dr=r,r=u;else Dr=r,r=u;if(r===u)if(r=Dr,(t=Pt())!==u)if(Kt()!==u){for(e=[],n=yt();n!==u;)e.push(n),n=yt();e!==u&&(n=Kt())!==u&&(o=Ct())!==u&&Kt()!==u&&Zt()!==u?(r,t=function(r,t){return{type:"case_expression",format:"searched",clauses:r,else:t.value}}(e,o),r=t):(Dr=r,r=u)}else Dr=r,r=u;else Dr=r,r=u;return r}());return r}())===u&&(r=function(){var r,t;r=Dr,(t=function(){var r,t;r=Dr,(t=function(){var r,t,e,n;if(r=Dr,(t=at())!==u){for(e=[],n=st();n!==u;)e.push(n),n=st();e!==u?(r,t=L(t,e),r=t):(Dr=r,r=u)}else Dr=r,r=u;return r}())!==u&&(r,t=t);return r=t}())!==u&&(r,t={type:"column_ref",table:"",column:t});return r=t}())===u&&(r=ct())===u&&(r=Dr,kt()!==u&&Kt()!==u&&(e=Kr())!==u&&Kt()!==u&&qt()!==u?(r,(n=e).paren=!0,r=n):(Dr=r,r=u)),r}function ot(){var r,t,e,n;if(r=Dr,(t=at())!==u){for(e=[],n=it();n!==u;)e.push(n),n=it();e!==u?(r,r=t=L(t,e)):(Dr=r,r=u)}else Dr=r,r=u;return r}function at(){var r;return w.test(t.charAt(Dr))?(r=t.charAt(Dr),Dr++):(r=u,0===zr&&Wr(x)),r}function it(){var r;return m.test(t.charAt(Dr))?(r=t.charAt(Dr),Dr++):(r=u,0===zr&&Wr(T)),r}function st(){var r;return N.test(t.charAt(Dr))?(r=t.charAt(Dr),Dr++):(r=u,0===zr&&Wr(O)),r}function ct(){var r,e,n,o;return r=Dr,e=Dr,64===t.charCodeAt(Dr)?(n="@",Dr++):(n=u,0===zr&&Wr(F)),n!==u&&(o=ot())!==u?e=n=[n,o]:(Dr=e,e=u),e!==u&&(r,e={type:"param",value:e[1]}),r=e}function lt(){var r;return(r=function(){var r,e,n,o;r=Dr,"leading"===t.substr(Dr,7).toLowerCase()?(e=t.substr(Dr,7),Dr+=7):(e=u,0===zr&&Wr(fr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="LEADING"):(Dr=r,r=u)):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e,n,o;r=Dr,"trailing"===t.substr(Dr,8).toLowerCase()?(e=t.substr(Dr,8),Dr+=8):(e=u,0===zr&&Wr(vr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="TRAILING"):(Dr=r,r=u)):(Dr=r,r=u);return r}())===u&&(r=function(){var r,e,n,o;r=Dr,"both"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(pr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="BOTH"):(Dr=r,r=u)):(Dr=r,r=u);return r}()),r}function ft(){var r,e,n;return r=Dr,(e=function(){var r,t,e;r=Dr,(t=vt())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=dt())!==u&&Kt()!==u&&qt()!==u?(r,n=e,t={type:"interval-period",period:t.value,precision:n,secondary:null},r=t):(Dr=r,r=u);var n;r===u&&(r=Dr,(t=vt())!==u&&(r,t=I(t)),r=t);return r}())!==u&&Kt()!==u&&function(){var r,e,n,o;r=Dr,"to"===t.substr(Dr,2).toLowerCase()?(e=t.substr(Dr,2),Dr+=2):(e=u,0===zr&&Wr(dr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="TO"):(Dr=r,r=u)):(Dr=r,r=u);return r}()!==u&&Kt()!==u&&(n=function(){var r,t,e,n;r=Dr,(t=vt())!==u&&(r,t={type:"interval-period",period:t.value,precision:null,secondary:null});(r=t)===u&&(r=Dr,(t=Gt())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=dt())!==u&&Kt()!==u&&Yt()!==u&&Kt()!==u&&(n=pt())!==u&&Kt()!==u&&qt()!==u?(r,t=R(e,n),r=t):(Dr=r,r=u),r===u&&(r=Dr,(t=Gt())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=dt())!==u&&Kt()!==u&&qt()!==u?(r,r=t={type:"interval-period",period:"second",precision:e,secondary:null}):(Dr=r,r=u),r===u&&(r=Dr,(t=Gt())!==u&&(r,t={type:"interval-period",period:"second",precision:null,secondary:null}),r=t)));return r}())!==u?(r,r=e={type:"interval-qualifier",start:e,end:n}):(Dr=r,r=u),r===u&&(r=function(){var r,t,e,n;r=Dr,(t=vt())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=pt())!==u&&Kt()!==u&&qt()!==u?(r,o=e,t={type:"interval-period",period:t.value,precision:o,secondary:null},r=t):(Dr=r,r=u);var o;r===u&&(r=Dr,(t=vt())!==u&&(r,t=I(t)),(r=t)===u&&(r=Dr,(t=Gt())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=dt())!==u&&Kt()!==u&&Yt()!==u&&Kt()!==u&&(n=pt())!==u&&Kt()!==u&&qt()!==u?(r,t=R(e,n),r=t):(Dr=r,r=u),r===u&&(r=Dr,(t=Gt())!==u&&Kt()!==u&&kt()!==u&&Kt()!==u&&(e=pt())!==u&&Kt()!==u&&qt()!==u?(r,t=function(r){return{type:"interval-period",period:"second",precision:r,secondary:null}}(e),r=t):(Dr=r,r=u),r===u&&(r=Dr,(t=Gt())!==u&&(r,t={type:"interval-period",period:"second",precision:null,secondary:null}),r=t))));return r}()),r}function vt(){var r,t;return r=Dr,(t=Ut())!==u&&(r,t={type:"string",value:"day"}),(r=t)===u&&(r=Dr,(t=Bt())!==u&&(r,t={type:"string",value:"hour"}),(r=t)===u&&(r=Dr,(t=zt())!==u&&(r,t={type:"string",value:"minute"}),(r=t)===u&&(r=Dr,(t=Ht())!==u&&(r,t={type:"string",value:"month"}),(r=t)===u&&(r=Dr,(t=Dt())!==u&&(r,t={type:"string",value:"year"}),r=t)))),r}function pt(){var r,t;return r=Dr,(t=wt())!==u&&(r,t=_(t)),r=t}function dt(){var r,t;return r=Dr,(t=wt())!==u&&(r,t=_(t)),r=t}function ht(){var r;return(r=bt())===u&&(r=ct()),r}function bt(){var r,e,n,o,a;if(r=Dr,39===t.charCodeAt(Dr)?(e="'",Dr++):(e=u,0===zr&&Wr(S)),e===u&&("N'"===t.substr(Dr,2)?(e="N'",Dr+=2):(e=u,0===zr&&Wr(M))),e!==u){for(n=[],o=Dr,"''"===t.substr(Dr,2)?(a="''",Dr+=2):(a=u,0===zr&&Wr(D)),a!==u&&(o,a="'"),(o=a)===u&&(H.test(t.charAt(Dr))?(o=t.charAt(Dr),Dr++):(o=u,0===zr&&Wr(U)));o!==u;)n.push(o),o=Dr,"''"===t.substr(Dr,2)?(a="''",Dr+=2):(a=u,0===zr&&Wr(D)),a!==u&&(o,a="'"),(o=a)===u&&(H.test(t.charAt(Dr))?(o=t.charAt(Dr),Dr++):(o=u,0===zr&&Wr(U)));n!==u?(39===t.charCodeAt(Dr)?(o="'",Dr++):(o=u,0===zr&&Wr(S)),o!==u?(r,r=e={type:"string",value:n.join("")}):(Dr=r,r=u)):(Dr=r,r=u)}else Dr=r,r=u;return r}function yt(){var r,t,e;return r=Dr,jt()!==u&&Kt()!==u&&(t=Kr())!==u&&Kt()!==u&&Wt()!==u&&Kt()!==u&&(e=Kr())!==u?(r,r=B(t,e)):(Dr=r,r=u),r}function At(){var r,t,e;return r=Dr,jt()!==u&&Kt()!==u&&(t=Kr())!==u&&Kt()!==u&&Wt()!==u&&Kt()!==u&&(e=Kr())!==u?(r,r=B(t,e)):(Dr=r,r=u),r}function Ct(){var r,e;return r=Dr,function(){var r,e,n,o;r=Dr,"else"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(Tr));e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="ELSE"):(Dr=r,r=u)):(Dr=r,r=u);return r}()!==u&&Kt()!==u&&(e=Kr())!==u?(r,r={type:"else_clause",value:e}):(Dr=r,r=u),r}function gt(){var r,e,n,o;return(r=wt())===u&&(r=Dr,45===t.charCodeAt(Dr)?(e="-",Dr++):(e=u,0===zr&&Wr(C)),e===u&&(43===t.charCodeAt(Dr)?(e="+",Dr++):(e=u,0===zr&&Wr(A))),e!==u&&(n=wt())!==u?(r,o=n,r=e=e[0]+o):(Dr=r,r=u)),r}function Et(){var r,e,n,o;return r=Dr,46===t.charCodeAt(Dr)?(e=".",Dr++):(e=u,0===zr&&Wr(z)),e!==u?((n=wt())===u&&(n=null),n!==u?(r,r=e="."+(null!=(o=n)?o:"")):(Dr=r,r=u)):(Dr=r,r=u),r}function Lt(){var r,e,n;return r=Dr,(e=function(){var r,e,n;r=Dr,Z.test(t.charAt(Dr))?(e=t.charAt(Dr),Dr++):(e=u,0===zr&&Wr(j));e!==u?(W.test(t.charAt(Dr))?(n=t.charAt(Dr),Dr++):(n=u,0===zr&&Wr(Y)),n===u&&(n=null),n!==u?(r,r=e="e"+(null===(o=n)?"":o)):(Dr=r,r=u)):(Dr=r,r=u);var o;return r}())!==u&&(n=wt())!==u?(r,r=e=e+n):(Dr=r,r=u),r}function wt(){var r,t,e;if(r=Dr,t=[],(e=xt())!==u)for(;e!==u;)t.push(e),e=xt();else t=u;return t!==u&&(r,t=t.join("")),r=t}function xt(){var r;return G.test(t.charAt(Dr))?(r=t.charAt(Dr),Dr++):(r=u,0===zr&&Wr(P)),r}function mt(){var r,e,n,o;return r=Dr,"in"===t.substr(Dr,2).toLowerCase()?(e=t.substr(Dr,2),Dr+=2):(e=u,0===zr&&Wr(V)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="IN"):(Dr=r,r=u)):(Dr=r,r=u),r}function Tt(){var r,e,n,o;return r=Dr,"is"===t.substr(Dr,2).toLowerCase()?(e=t.substr(Dr,2),Dr+=2):(e=u,0===zr&&Wr(X)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="IS"):(Dr=r,r=u)):(Dr=r,r=u),r}function Nt(){var r,e,n,o;return r=Dr,"like"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(J)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="LIKE"):(Dr=r,r=u)):(Dr=r,r=u),r}function Ot(){var r,e,n,o;return r=Dr,"not"===t.substr(Dr,3).toLowerCase()?(e=t.substr(Dr,3),Dr+=3):(e=u,0===zr&&Wr($)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="NOT"):(Dr=r,r=u)):(Dr=r,r=u),r}function Ft(){var r,e,n,o;return r=Dr,"and"===t.substr(Dr,3).toLowerCase()?(e=t.substr(Dr,3),Dr+=3):(e=u,0===zr&&Wr(rr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="AND"):(Dr=r,r=u)):(Dr=r,r=u),r}function It(){var r,e,n,o;return r=Dr,"or"===t.substr(Dr,2).toLowerCase()?(e=t.substr(Dr,2),Dr+=2):(e=u,0===zr&&Wr(tr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="OR"):(Dr=r,r=u)):(Dr=r,r=u),r}function Rt(){var r,e,n,o;return r=Dr,"between"===t.substr(Dr,7).toLowerCase()?(e=t.substr(Dr,7),Dr+=7):(e=u,0===zr&&Wr(er)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="BETWEEN"):(Dr=r,r=u)):(Dr=r,r=u),r}function _t(){var r,e,n,o;return r=Dr,"from"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(nr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="FROM"):(Dr=r,r=u)):(Dr=r,r=u),r}function St(){var r,e,n,o;return r=Dr,"trim"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(ir)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="TRIM"):(Dr=r,r=u)):(Dr=r,r=u),r}function Mt(){var r,e,n,o;return r=Dr,"interval"===t.substr(Dr,8).toLowerCase()?(e=t.substr(Dr,8),Dr+=8):(e=u,0===zr&&Wr(hr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="INTERVAL"):(Dr=r,r=u)):(Dr=r,r=u),r}function Dt(){var r,e,n,o;return r=Dr,"year"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(br)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="YEAR"):(Dr=r,r=u)):(Dr=r,r=u),r}function Ht(){var r,e,n,o;return r=Dr,"month"===t.substr(Dr,5).toLowerCase()?(e=t.substr(Dr,5),Dr+=5):(e=u,0===zr&&Wr(yr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="MONTH"):(Dr=r,r=u)):(Dr=r,r=u),r}function Ut(){var r,e,n,o;return r=Dr,"day"===t.substr(Dr,3).toLowerCase()?(e=t.substr(Dr,3),Dr+=3):(e=u,0===zr&&Wr(Ar)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="DAY"):(Dr=r,r=u)):(Dr=r,r=u),r}function Bt(){var r,e,n,o;return r=Dr,"hour"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(Cr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="HOUR"):(Dr=r,r=u)):(Dr=r,r=u),r}function zt(){var r,e,n,o;return r=Dr,"minute"===t.substr(Dr,6).toLowerCase()?(e=t.substr(Dr,6),Dr+=6):(e=u,0===zr&&Wr(gr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="MINUTE"):(Dr=r,r=u)):(Dr=r,r=u),r}function Gt(){var r,e,n,o;return r=Dr,"second"===t.substr(Dr,6).toLowerCase()?(e=t.substr(Dr,6),Dr+=6):(e=u,0===zr&&Wr(Er)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="SECOND"):(Dr=r,r=u)):(Dr=r,r=u),r}function Pt(){var r,e,n,o;return r=Dr,"case"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(Lr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="CASE"):(Dr=r,r=u)):(Dr=r,r=u),r}function Zt(){var r,e,n,o;return r=Dr,"end"===t.substr(Dr,3).toLowerCase()?(e=t.substr(Dr,3),Dr+=3):(e=u,0===zr&&Wr(wr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="END"):(Dr=r,r=u)):(Dr=r,r=u),r}function jt(){var r,e,n,o;return r=Dr,"when"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(xr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="WHEN"):(Dr=r,r=u)):(Dr=r,r=u),r}function Wt(){var r,e,n,o;return r=Dr,"then"===t.substr(Dr,4).toLowerCase()?(e=t.substr(Dr,4),Dr+=4):(e=u,0===zr&&Wr(mr)),e!==u?(n=Dr,zr++,o=it(),zr--,o===u?n=void 0:(Dr=n,n=u),n!==u?(r,r=e="THEN"):(Dr=r,r=u)):(Dr=r,r=u),r}function Yt(){var r;return 44===t.charCodeAt(Dr)?(r=",",Dr++):(r=u,0===zr&&Wr(Nr)),r}function kt(){var r;return 40===t.charCodeAt(Dr)?(r="(",Dr++):(r=u,0===zr&&Wr(Or)),r}function qt(){var r;return 41===t.charCodeAt(Dr)?(r=")",Dr++):(r=u,0===zr&&Wr(Fr)),r}function Kt(){var r,t;for(r=[],t=Vt();t!==u;)r.push(t),t=Vt();return r}function Vt(){var r;return Ir.test(t.charAt(Dr))?(r=t.charAt(Dr),Dr++):(r=u,0===zr&&Wr(Rr)),r}function Xt(r,t,e,n){var u={type:"binary_expr",operator:r,left:t,right:e};return void 0!==n&&(u.escape=n),u}function Jt(r,t){for(var e=r,n=0;n<t.length;n++)e=Xt(t[n][1],e,t[n][3]);return e}if((n=a())!==u&&Dr===t.length)return n;throw n!==u&&Dr<t.length&&Wr({type:"end"}),Yr(Br,Ur<t.length?t.charAt(Ur):null,Ur<t.length?jr(Ur,Ur+1):jr(Ur,Ur))}}}));